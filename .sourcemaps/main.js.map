{"version":3,"sources":["../../src/services/cache.service.ts","../../src/services/preferences.service.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/soundboard/soundboard.ts","../../src/services/favourites.service.ts","../../src/services/media.service.ts","../../src/pages/preferences/preferences.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { FileTransfer, FileTransferObject } from '@ionic-native/file-transfer';\nimport { File } from '@ionic-native/file';\nimport { Platform } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\n\n\n@Injectable()\nexport class CacheService {\n  _cache: any[] = [];\n  _ready: Promise<any>;\n  maxCachedDays = 7;\n  fileTransfer: FileTransferObject;\n\n  constructor(private storage: Storage, private transfer: FileTransfer,\n              private file: File, private platform: Platform) {\n    /* When storage is ready, load cache into memory\n     * After loading the cache into the memory, this service is ready\n     */\n    this._ready = new Promise((resolve, reject) => {\n      this.platform.ready()\n      .then(() => {\n        this.fileTransfer = this.transfer.create();\n        return this.storage.ready()\n        .then(() => {\n          return this.storage.forEach((value: any, key: string) => {\n            if (key.startsWith('cache:')) {\n              this.getCache().push(value);\n              /* If the sound is outdated, remove it */\n              if (this.isOutdated(value)) {\n                this.removeFromCache(value)\n                .catch(error => reject(error));\n              }\n            }\n          });\n        });\n      })\n      .then(() => resolve())\n      .catch(error => reject(error));\n    });\n  }\n\n  ready(): Promise<any> {\n    return this._ready;\n  }\n\n  clearCache(): Promise<any> {\n    return new Promise((resolve, reject) => {\n      /* Loops through the entire cache and remove all entries by\n       * calling this.removeFromCache for each of them.\n       * This loop is back to front because there would be\n       * async issues when looping front to back\n       */\n      for (let i = this.getCache().length - 1; i >= 0; i--) {\n        const sound = this.getCache()[i];\n        this.removeFromCache(sound)\n        .then(() => {\n          /* Resolve when all sounds have been removed */\n          if (this.getCache().length === 0) {\n            return resolve();\n          }\n        })\n        .catch(error => reject(error));\n      }\n      /* Also resolve if cache already was empty */\n      return resolve();\n    });\n  }\n\n  /* Checks if sound with the same name already exists in cache */\n  hasInCache(sound: any): boolean {\n    return this.getCache().findIndex(cachedSound => cachedSound.slug === sound.slug) > -1;\n  }\n\n  /* Downloads a file into the local data directory, adding the sound object\n   * to the cache storage as well.\n   */\n  addToCache(sound: any): Promise<any> {\n    return new Promise((resolve, reject) => {\n      /* Resolve with existing sound if it is already present and not outdated,\n       * set src property to the remote one if it is outdated, so it will get\n       * replaced\n       */\n      if (this.hasInCache(sound)) {\n        if (!this.isOutdated(sound)) {\n          return resolve(this.getFromCache(sound));\n        }\n        if (sound.remoteSrc) {\n          sound.src = sound.remoteSrc;\n        }\n      }\n\n      /* Download file at sound.src into the local data directory */\n      this.fileTransfer.download(sound.src, this.file.dataDirectory + sound.slug)\n      .then(entry => {\n        /* Media plugin can't play sounds with 'file://' prefix on ios */\n        let src = entry.toURL();\n        if (this.platform.is('ios')) {\n          src = src.replace(/^file:\\/\\//, '');\n        }\n\n        const cachedSound = {\n          title: sound.title,\n          slug: sound.slug,\n          src: src,\n          remoteSrc: sound.src,\n          cacheDate: new Date()\n        };\n\n        return this.storage.set('cache:' + cachedSound.slug, cachedSound)\n        .then(() => {\n          this.getCache().push(cachedSound);\n          return resolve(cachedSound);\n        });\n      })\n      .catch(error => reject(error));\n    });\n  }\n\n  /* Removes sound from local data directory and cache storage */\n  removeFromCache(sound: any): Promise<any> {\n    return new Promise((resolve, reject) => {\n      const index = this.getCache().findIndex(cachedSound => cachedSound.slug === sound.slug);\n      if (index === -1) {\n        return reject('Not in cache');\n      }\n\n      /* Remove the sound from memory */\n      this.getCache().splice(index, 1);\n\n      /* Remove the sound from cache storage */\n      this.storage.remove('cache:' + sound.slug)\n      .catch(error => reject(error));\n\n      /* Remove the sound from filesystem */\n      return this.file.removeFile(this.file.dataDirectory, sound.slug);\n    });\n  }\n\n  /* Checks if a cached sound needs to be refreshed */\n  isOutdated(sound: any): boolean {\n    return this.hasInCache(sound) && new Date().getDate() - this.maxCachedDays > this.getFromCache(sound).cacheDate.getDate();\n  }\n\n  /* Returns entire cache */\n  getCache(): any[] {\n    return this._cache;\n  }\n\n  /* Returns a cached sound from cache */\n  getFromCache(sound: any): any {\n    if (!this.hasInCache(sound)) {\n      return null;\n    }\n    return this.getCache()[this.getCache().findIndex(cachedSound => cachedSound.slug === sound.slug)];\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/cache.service.ts","import { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\n\n\n@Injectable()\nexport class PreferencesService {\n\n  get DEFAULT_PREFERENCES() {\n    return {\n      baseUrl: 'https://s3-eu-west-1.amazonaws.com/soundboard-gc',\n      soundsFile: '/sounds.json',\n      cachingEnabled: true\n    };\n  }\n\n  _preferences: object = {};\n  _ready: Promise<any>;\n\n  constructor(private storage: Storage) {\n    /* When storage is ready, load all favourites into the app */\n    this._ready = new Promise((resolve, reject) => {\n      this.storage.ready()\n      .then(() => {\n        this._preferences = this.DEFAULT_PREFERENCES;\n        return this.storage.forEach((value: any, key: string) => {\n          if (key.startsWith('preferences:')) {\n            const newKey = key.replace('preferences:', '');\n            this.getPreferences()[newKey] = value;\n          }\n        });\n      })\n      .then(() => resolve())\n      .catch(error => reject(error));\n    });\n  }\n\n  ready(): Promise<any> {\n    return this._ready;\n  }\n\n  resetToDefaults(): Promise<any> {\n    return new Promise((resolve, reject) => {\n      Object.keys(this.getPreferences()).forEach(key => {\n        this.remove(key)\n        .then(() => {\n          if (Object.keys(this.getPreferences()).length === 0) {\n            this._preferences = this.DEFAULT_PREFERENCES;\n            return resolve();\n          }\n        })\n        .catch(error => reject(error));\n      });\n    });\n  }\n\n  exists(key: string): boolean {\n    return this.getPreferences().hasOwnProperty(key);\n  }\n\n  set(key: string, value: any): Promise<any> {\n    return new Promise((resolve, reject) => {\n      return this.storage.set('preferences:' + key, value)\n      .then(() => {\n        this.getPreferences()[key] = value;\n        return resolve(key);\n      })\n      .catch(error => reject(error));\n    });\n  }\n\n  setIfNotAlready(key: string, value: any): Promise<any> {\n    return new Promise((resolve, reject) => {\n      if (this.exists(key)) {\n        return resolve();\n      }\n      return this.set(key, value);\n    });\n  }\n\n  remove(key: string): Promise<any> {\n    return new Promise((resolve, reject) => {\n      if (!this.exists(key)) {\n        return reject(key + ' does not exist');\n      }\n\n      this.getPreferences[key] = undefined;\n\n      this.storage.remove('preferences:' + key)\n      .then(() => resolve())\n      .catch(error => reject(error));\n    });\n  }\n\n  get(key: string): any {\n    if (!this.exists(key)) {\n      return undefined;\n    }\n    return this.getPreferences()[key];\n  }\n\n  /* Returns all favourites */\n  getPreferences() {\n    return this._preferences;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/preferences.service.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 113;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 113\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 155;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 155\n// module chunks = 0","import { Component } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { CacheService } from '../../services/cache.service';\nimport { FavouritesService } from '../../services/favourites.service';\nimport { MediaService } from '../../services/media.service';\nimport { PreferencesService } from '../../services/preferences.service';\nimport { PreferencesPage } from '../preferences/preferences';\nimport { Media } from '@ionic-native/media';\nimport { ModalController } from 'ionic-angular';\nimport { NgZone } from '@angular/core';\n\n\n@Component({\n  templateUrl: 'soundboard.html'\n})\nexport class SoundboardPage {\n\n  title = 'Gemma Says...';\n\n  sounds: any = [];\n\n  constructor(private http: Http, public favouritesService: FavouritesService, public mediaService: MediaService,\n              private cacheService: CacheService, private preferencesService: PreferencesService,\n              private modalCtrl: ModalController) {\n    this.preferencesService.ready()\n    .then(() => this.cacheService.ready())\n    .then(() => {\n      return this.load();\n    })\n    .catch(error => console.log(error));\n  }\n\n  load(): Promise<any> {\n    this.cacheService.getCache().forEach(cachedSound => {\n      cachedSound.isPlaying = false;\n      this.sounds.push(cachedSound);\n    });\n    return this.getRemoteSounds();\n  }\n\n  reload(): Promise<any> {\n    this.sounds = [];\n    return this.load();\n  }\n\n  /* Gets all sounds found at this.base_url + this.sounds_file */\n  getRemoteSounds(): Promise<any> {\n    return new Promise((resolve, reject) => {\n      const baseUrl = this.preferencesService.get('baseUrl');\n      const soundsFile = this.preferencesService.get('soundsFile');\n      if (!baseUrl || !soundsFile) {\n        return reject('No base url or sounds file specified');\n      }\n\n      this.http.get(baseUrl + soundsFile)\n      .subscribe(data => {\n        /* Loop through data\n          * Format:\n          * [\n          *   {\n          *     \"title\": \"title\",\n          *     \"file\": \"file\"\n          *   }\n          * ]\n          */\n        data.json().forEach(sound => {\n          /* Example: http://website.com/soundfile.mp3 */\n          if (!sound.file.startsWith('http')) {\n            if (!sound.file.startsWith('/')) {\n              sound.file = '/' + sound.file;\n            }\n            /* Example: (/)soundfile.mp3 -> http://website.com/soundfile.mp3 */\n            sound.file = baseUrl + sound.file;\n          }\n\n          /* If the file is not already in the cache or it is, but outdated,\n           * only then does the remote sound get added to the list\n           */\n          if (!this.cacheService.hasInCache(sound)) {\n            this.sounds.push({\n              title: sound.title,\n              slug: sound.title.toLowerCase().replace(/\\s+/g, '-'),\n              src: sound.file,\n              isPlaying: false\n            });\n          }\n        });\n        return resolve();\n      },\n      error => reject(error),\n      () => console.log(this.sounds)\n      );\n    });\n  }\n\n  /* Plays a sound, pausing other playing sounds if necessary */\n  cacheAndPlay(sound) {\n    this.cache(sound).then(() => this.mediaService.play(sound));\n  }\n\n  /* Caches a given sound */\n  cache(sound): Promise<any> {\n    /* Adds a sound to the cache, then updates its attributes to reflect its new status */\n    return new Promise((resolve, reject) => {\n      if (!window.hasOwnProperty('cordova') || !this.preferencesService.get('cachingEnabled')) {\n        return resolve();\n      }\n\n      return this.cacheService.addToCache(sound)\n      .then(cachedSound => {\n        sound.src = cachedSound.src;\n        sound.remoteSrc = cachedSound.remoteSrc;\n        sound.cacheDate = cachedSound.cacheDate;\n        sound.slug = cachedSound.slug;\n        sound.title = cachedSound.title;\n        return resolve();\n      })\n      .catch(error => console.log(error));\n    });\n  }\n\n  /* Stops the playback of the sound */\n  stopPlayback() {\n    this.mediaService.stopPlayback();\n  }\n\n  /* Clears the entire cache, and reloads all remote sounds */\n  clearCacheAndReload(): Promise<any> {\n    return this.cacheService.clearCache()\n    .then(() => this.reload())\n    .catch(error => console.log(error));\n  }\n\n  /* Toggle a sound as favourite */\n  toggleFavourite(sound) {\n    return this.favouritesService.toggleFavourite(sound)\n    .catch(error => console.log(error));\n  }\n\n  /* Lists all favourited sounds */\n  listFavouriteSounds() {\n    return this.sounds.filter(sound => this.favouritesService.hasFavourite(sound));\n  }\n\n  /* Lists all sounds not marked as favourite */\n  listRegularSounds() {\n    return this.sounds.filter(sound => !this.favouritesService.hasFavourite(sound));\n  }\n\n  /* List all sounds, favourites first */\n  listSortedSounds() {\n    return this.listFavouriteSounds().concat(this.listRegularSounds());\n  }\n\n  showPreferences() {\n    const preferencesModal = this.modalCtrl.create(PreferencesPage);\n    preferencesModal.onDidDismiss(data => {\n      if (!data) {\n        return;\n      }\n      if (data.reload) {\n        this.reload();\n      }\n    });\n    preferencesModal.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/soundboard/soundboard.ts","import { Injectable } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\n\r\n\r\n@Injectable()\r\nexport class FavouritesService {\r\n  _favourites: any[] = [];\r\n  _ready: Promise<any>;\r\n\r\n  constructor(private storage: Storage) {\r\n    /* When storage is ready, load all favourites into the app */\r\n    this._ready = new Promise((resolve, reject) => {\r\n      return this.storage.ready()\r\n      .then(() => {\r\n        return this.storage.get('favourites')\r\n        .then(value => {\r\n          if (value) {\r\n            this._favourites = value;\r\n          }\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  ready(): Promise<any> {\r\n    return this._ready;\r\n  }\r\n\r\n  clearFavourites() {\r\n    this._favourites = [];\r\n    this.storage.set('favourites', this.getAllFavourites());\r\n  }\r\n\r\n  /* Checks if sound with name already exists in favourites */\r\n  hasFavourite(sound: any): boolean {\r\n    return this.getAllFavourites().findIndex(favourite => favourite === sound.title) > -1;\r\n  }\r\n\r\n  /* Adds new sound to favourites and storage */\r\n  addFavourite(sound: any): Promise<any> {\r\n    this.getAllFavourites().push(sound.title);\r\n    return this.storage.set('favourites', this.getAllFavourites());\r\n  }\r\n\r\n  /* Removes sound from favourites and storage */\r\n  removeFavourite(sound: any): Promise<any> {\r\n    return new Promise((resolve, reject) => {\r\n      const index = this.getAllFavourites().findIndex(favourite => favourite === sound.title);\r\n      if (index < 0) {\r\n        return reject(sound.title + ' not in favourites');\r\n      }\r\n      this.getAllFavourites().splice(index, 1);\r\n      return this.storage.set('favourites', this.getAllFavourites());\r\n    });\r\n  }\r\n\r\n  /* Adds favourite if it didn't exist yet, removes it otherwise */\r\n  toggleFavourite(sound: any): Promise<any> {\r\n    if (this.hasFavourite(sound)) {\r\n      return this.removeFavourite(sound);\r\n    } else {\r\n      return this.addFavourite(sound);\r\n    }\r\n  }\r\n\r\n  /* Returns all favourites */\r\n  getAllFavourites() {\r\n    return this._favourites;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/favourites.service.ts","import { Injectable } from '@angular/core';\r\nimport { FileTransfer, FileTransferObject } from '@ionic-native/file-transfer';\r\nimport { File } from '@ionic-native/file';\r\nimport { Platform } from 'ionic-angular';\r\nimport { Storage } from '@ionic/storage';\r\nimport { Media } from '@ionic-native/media';\r\nimport { NgZone } from '@angular/core';\r\n\r\n\r\n@Injectable()\r\nexport class MediaService {\r\n\r\n  media: any;\r\n  _ready: Promise<any>;\r\n\r\n  constructor(private platform: Platform, private cordovaMedia: Media, private zone: NgZone) {\r\n    this._ready = new Promise((resolve, reject) => {\r\n      return this.platform.ready();\r\n    });\r\n  }\r\n\r\n  ready(): Promise<any> {\r\n    return this._ready;\r\n  }\r\n\r\n  /* Plays a sound, stopping other playing sounds if necessary */\r\n  play(sound) {\r\n    this.stopPlayback();\r\n\r\n    /* Plays with Cordova Audio if available, falls back on Web Audio.\r\n     * If something goes wrong in playing with Cordova Audio, play with\r\n     * Web Audio as well\r\n     */\r\n    if (window.hasOwnProperty('cordova') && window.hasOwnProperty('Media')) {\r\n      try {\r\n        this.playWithCordovaAudio(sound);\r\n      } catch (error) {\r\n        if (sound.remoteSrc) {\r\n          this.playWithWebAudio(sound, sound.remoteSrc);\r\n        } else {\r\n          this.playWithWebAudio(sound);\r\n        }\r\n      }\r\n    } else {\r\n      this.playWithWebAudio(sound);\r\n    }\r\n  }\r\n\r\n  playWithWebAudio(sound, alternativeSrc = null) {\r\n    const src = alternativeSrc || sound.src;\r\n    this.media = new Audio(src);\r\n\r\n    /* Adding event listeners to update the sound's isPlaying attribute accordingly */\r\n    this.media.onended = () => {\r\n      sound.isPlaying = false;\r\n    };\r\n    this.media.onpause = () => {\r\n      sound.isPlaying = false;\r\n    };\r\n    this.media.onplay = () => {\r\n      sound.isPlaying = true;\r\n    };\r\n\r\n    this.media.load();\r\n    this.media.play();\r\n  }\r\n\r\n  playWithCordovaAudio(sound) {\r\n    this.media = this.cordovaMedia.create(sound.src);\r\n\r\n    /* Adding status callback to update the sound's isPlaying attribute accordingly */\r\n    this.media.statusCallback = status => {\r\n      /* Run this in ngZone to propagate changes to the UI */\r\n      this.zone.run(() => {\r\n        switch (status) {\r\n          case this.cordovaMedia.MEDIA_RUNNING:\r\n            sound.isPlaying = true;\r\n            break;\r\n          case this.cordovaMedia.MEDIA_PAUSED:\r\n            sound.isPlaying = false;\r\n            break;\r\n          case this.cordovaMedia.MEDIA_STOPPED:\r\n            sound.isPlaying = false;\r\n            break;\r\n        }\r\n      });\r\n    };\r\n\r\n    this.media.play();\r\n  }\r\n\r\n  /* Stops the playback of the sound */\r\n  stopPlayback() {\r\n    if (this.media) {\r\n      if (this.media.release) {\r\n        this.media.stop();\r\n        this.media.release();\r\n      } else {\r\n        this.media.pause();\r\n      }\r\n      this.media = null;\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/media.service.ts","import { Component } from '@angular/core';\r\nimport { ViewController } from 'ionic-angular';\r\nimport { PreferencesService } from '../../services/preferences.service';\r\nimport { CacheService } from '../../services/cache.service';\r\n\r\n@Component({\r\n  templateUrl: 'preferences.html'\r\n})\r\nexport class PreferencesPage {\r\n  cachingEnabled: boolean;\r\n\r\n  constructor(private cacheService: CacheService, private preferencesService: PreferencesService, private viewCtrl: ViewController) {\r\n    this.cachingEnabled = this.preferencesService.get('cachingEnabled');\r\n  }\r\n\r\n  dismiss() {\r\n    const data = {\r\n      reload: true\r\n    };\r\n\r\n    if (this.preferencesService.get('cachingEnabled') && !this.cachingEnabled) {\r\n      this.cacheService.clearCache();\r\n    }\r\n    this.preferencesService.set('cachingEnabled', this.cachingEnabled)\r\n    .then(() => {\r\n      this.viewCtrl.dismiss(data);\r\n    })\r\n    .catch(error => console.log(error));\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/preferences/preferences.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\nimport { HttpModule } from '@angular/http';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { IonicStorageModule } from '@ionic/storage';\nimport { MyApp } from './app.component';\n\nimport { SoundboardPage } from '../pages/soundboard/soundboard';\nimport { PreferencesPage } from '../pages/preferences/preferences';\n\nimport { CacheService } from '../services/cache.service';\nimport { FavouritesService } from '../services/favourites.service';\nimport { MediaService } from '../services/media.service';\nimport { PreferencesService } from '../services/preferences.service';\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer';\nimport { File } from '@ionic-native/file';\nimport { Media } from '@ionic-native/media';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\n\ndeclare var window;\n\nexport class MyErrorHandler implements ErrorHandler {\n  handleError(err: any): void {\n    window.Ionic.handleNewError(err);\n  }\n}\n\n\n@NgModule({\n  declarations: [\n    MyApp,\n    PreferencesPage,\n    SoundboardPage\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    IonicModule.forRoot(MyApp),\n    IonicStorageModule.forRoot()\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    PreferencesPage,\n    SoundboardPage\n  ],\n  providers: [\n    CacheService,\n    FavouritesService,\n    MediaService,\n    PreferencesService,\n    File,\n    FileTransfer,\n    Media,\n    SplashScreen,\n    StatusBar,\n    { provide: ErrorHandler, useClass: MyErrorHandler }\n  ]\n})\nexport class AppModule {}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\r\nimport { Platform } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\n\r\nimport { SoundboardPage } from '../pages/soundboard/soundboard';\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n  rootPage: any = SoundboardPage;\r\n\r\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\r\n    platform.ready().then(() => {\r\n      // Okay, so the platform is ready and our plugins are available.\r\n      // Here you can do any higher level native things you might need.\r\n      statusBar.styleDefault();\r\n      splashScreen.hide();\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts"],"sourceRoot":""}